# Parse Request - 2025-11-09T22-54-38.905152

## Prompt Used

```
System:
You are a business requirements parser. Your task is to extract structured information
from mixed-language (Czech/English) business request documents. Extract fields like project name, sponsor,
goal, scope, entities, metrics, sources, constraints, and deliverables into JSON.

User:
Parse the following business request document:

# Žádost o datový projekt – Supplier Risk Insights 2.0

## Projekt
**Název:** Supplier Risk Insights 2.0
**Sponzor:** Marek Hrubý (VP Procurement Excellence)
**Datum:** 2025-10-28
**Oddělení:** Group Procurement Analytics
**Priorita:** Kritická – Q4 OKR "Stabilizace dodavatelského řetězce"

## Cíl
Dodat konsolidovaný pohled na spolehlivost dodavatelů napříč BA/BS datamarťy a SAP ECC zdroji. Výsledný reporting musí upozorňovat na dodavatele s rostoucím lead time, častými reklamacemi nebo blokacemi plateb, aby procurement dokázal včas přesměrovat objem a eskalovat smluvní pokuty.

## Rozsah

### In Scope
- Historická data o purchase orders (posledních 36 měsíců) včetně RU/DE regionu.
- Dimenze dodavatel, produkt, dodací lokace, nákupní organizace.
- SLA metriky: on-time delivery, defect rate, invoice dispute count.
- Spárování se security klasifikací (Confidential vs Internal).
- Export KPI do Power BI workspace "Supplier Control Tower".

### Out of Scope
- Forecasting budoucích objednávek (řeší Supply Planning tým).
- Integrace s CRM a risk ratingy třetích stran.
- Real-time streaming ze SCADA nebo IoT senzorů.
- Detailní finanční marže – používá Finance Controlling.

## Klíčové entity & metriky

### Entity
- Supplier Master (Collibra/Unity Catalog `dimv_supplier`).
- Purchase Order Header + Item (`factv_purchase_order`, `factv_purchase_order_item`).
- Quality Incident (`factv_quality_notification`).
- Delivery Calendar Dimension (`dimv_delivery_date`).

### Metriky
- Supplier Reliability Index (vážený mix on-time %, dispute rate, defect rate).
- Average Goods Receipt Lead Time (dny).
- % PO s „blocked for payment" statusem.
- NCR Count (non-conformance reports) za poslední kvartál.
- Spend concentration top 10 dodavatelů.

## Očekávané zdroje
- Databricks Unity Catalog: `dm_ba_purchase`, `dm_bs_purchase` schemata.
- Collibra Data Catalog export (zajišťuje lineage a vlastníky).
- SAP ECC tabulky: `EKKO`, `EKPO`, `LFA1`, `MKPF`.
- SharePoint složka "Supplier Audits" pro manuální NCR zápisy.

## Omezení
- GDPR: žádná osobní data supplier kontaktů v datasetu; pseudonymizace ID.
- Data retention: pouze 3 roky historie v produkčním modelu.
- Každý dashboard refresh < 5 min, jinak neprojde SLA.
- Row Level Security podle regionu (EMEA, AMER, APAC).
- Pouze read-only přístup do SAP; žádné zápisy zpět.

## Požadované artefakty
- Kurátorované `business_request.json` a `structure.json` pro Tool 3/7.
- Quality report shrnující articulationScore + missingFromSource flagy.
- Power BI semantic model + definice DAX measures.
- Governance runbook popisující validace a kontakty (owner, steward).
- Checklist P0/P1/P2 mitigací pro Supplier Risk komisi.


Return valid JSON.
```

## Raw Response

```
{
  "project_name": "Supplier Risk Insights 2.0",
  "sponsor": {
    "name": "Marek Hrubý",
    "role": "VP Procurement Excellence"
  },
  "date": "2025-10-28",
  "department": "Group Procurement Analytics",
  "priority": "Critical – Q4 OKR \"Stabilizace dodavatelského řetězce\"",
  "goal": "Deliver a consolidated view of supplier reliability across BA/BS datamarts and SAP ECC sources. Report must surface suppliers with increasing lead time, frequent complaints/disputes or blocked payments so procurement can re-route volume and escalate contractual penalties in time.",
  "scope": {
    "in_scope": [
      "Historical purchase orders (last 36 months) including RU/DE regions",
      "Dimensions: supplier, product, delivery location, purchasing organization",
      "SLA metrics: on-time delivery, defect rate, invoice dispute count",
      "Linking supplier data with security classification (Confidential vs Internal)",
      "Export KPI to Power BI workspace 'Supplier Control Tower'"
    ],
    "out_of_scope": [
      "Forecasting of future orders (handled by Supply Planning team)",
      "Integration with CRM and third-party risk ratings",
      "Real-time streaming from SCADA or IoT sensors",
      "Detailed financial margin analysis (handled by Finance Controlling)"
    ]
  },
  "entities": [
    {
      "name": "Supplier Master",
      "catalog": "Collibra/Unity Catalog",
      "table": "dimv_supplier",
      "description": "Master supplier dimension with identifiers and attributes"
    },
    {
      "name": "Purchase Order Header",
      "table": "factv_purchase_order",
      "description": "PO level facts (header-level fields)"
    },
    {
      "name": "Purchase Order Item",
      "table": "factv_purchase_order_item",
      "description": "PO line item facts (quantities, dates, statuses)"
    },
    {
      "name": "Quality Incident",
      "table": "factv_quality_notification",
      "description": "Quality incidents / non-conformance reports"
    },
    {
      "name": "Delivery Calendar Dimension",
      "table": "dimv_delivery_date",
      "description": "Calendar/date dimension for lead time calculations"
    }
  ],
  "metrics": [
    {
      "name": "Supplier Reliability Index",
      "unit": "score (composite)",
      "definition": "Weighted mix of on-time % (positive), dispute rate (negative), defect rate (negative).",
      "notes": "Weighting to be defined with procurement; used for ranking and alerts"
    },
    {
      "name": "Average Goods Receipt Lead Time",
      "unit": "days",
      "definition": "Average days between GR/receipt and PO creation or expected delivery date over selected window"
    },
    {
      "name": "% PO blocked for payment",
      "unit": "percent",
      "definition": "Share of POs with 'blocked for payment' status"
    },
    {
      "name": "NCR Count (last quarter)",
      "unit": "count",
      "definition": "Number of non-conformance reports in the most recent quarter"
    },
    {
      "name": "Spend concentration (top 10 suppliers)",
      "unit": "percent of spend",
      "definition": "Cumulative spend share of top 10 suppliers"
    }
  ],
  "data_sources": [
    {
      "type": "Databricks Unity Catalog",
      "details": [
        "dm_ba_purchase schema",
        "dm_bs_purchase schema"
      ]
    },
    {
      "type": "Collibra",
      "details": "Data Catalog export (lineage and owners)"
    },
    {
      "type": "SAP ECC",
      "tables": [
        "EKKO",
        "EKPO",
        "LFA1",
        "MKPF"
      ],
      "access": "read-only"
    },
    {
      "type": "SharePoint",
      "details": "Folder 'Supplier Audits' for manual NCR entries"
    }
  ],
  "constraints": {
    "gdpr": {
      "requirement": "No personal data of supplier contacts in dataset; supplier contact IDs must be pseudonymized",
      "pseudonymization": true
    },
    "data_retention": {
      "production_history_months": 36,
      "note": "Only 3 years of history in production model"
    },
    "performance_sla": {
      "dashboard_refresh_limit_minutes": 5,
      "note": "Each dashboard refresh must be < 5 min or fails SLA"
    },
    "security": {
      "row_level_security": [
        "EMEA",
        "AMER",
        "APAC"
      ],
      "classification_link": "Confidential vs Internal"
    },
    "sap_access": {
      "write_back_allowed": false,
      "access": "read-only to SAP; no writes back"
    }
  },
  "deliverables": [
    {
      "name": "Curated business_request.json",
      "for_tool": "Tool 3/7",
      "description": "Curated request file"
    },
    {
      "name": "Curated structure.json",
      "for_tool": "Tool 3/7",
      "description": "Curated data structure file"
    },
    {
      "name": "Quality report",
      "description": "Report summarizing articulationScore and missingFromSource flags"
    },
    {
      "name": "Power BI semantic model",
      "description": "Model published to workspace with DAX measure definitions"
    },
    {
      "name": "Governance runbook",
      "description": "Validation steps and contact list (owner, steward)"
    },
    {
      "name": "Mitigation checklist (P0/P1/P2)",
      "description": "Checklist for Supplier Risk committee mitigations"
    }
  ],
  "acceptance_criteria": [
    "Consolidated reporting available in Power BI 'Supplier Control Tower' workspace",
    "Alerts surface suppliers with increasing lead time, frequent disputes, or blocked payments",
    "Dashboards refresh in under 5 minutes",
    "Row-level security enforced by region",
    "No personal supplier contact data present (pseudonymized)",
    "Only last 36 months of history accessible in production model"
  ],
  "notes": "Forecasting, CRM/third-party risk integrations, real-time sensor streaming, and detailed finance margin analysis are excluded and should not be part of this deliverable."
}
```

## Parsed JSON

```json
{
  "project_name": "Supplier Risk Insights 2.0",
  "sponsor": {
    "name": "Marek Hrubý",
    "role": "VP Procurement Excellence"
  },
  "date": "2025-10-28",
  "department": "Group Procurement Analytics",
  "priority": "Critical – Q4 OKR \"Stabilizace dodavatelského řetězce\"",
  "goal": "Deliver a consolidated view of supplier reliability across BA/BS datamarts and SAP ECC sources. Report must surface suppliers with increasing lead time, frequent complaints/disputes or blocked payments so procurement can re-route volume and escalate contractual penalties in time.",
  "scope": {
    "in_scope": [
      "Historical purchase orders (last 36 months) including RU/DE regions",
      "Dimensions: supplier, product, delivery location, purchasing organization",
      "SLA metrics: on-time delivery, defect rate, invoice dispute count",
      "Linking supplier data with security classification (Confidential vs Internal)",
      "Export KPI to Power BI workspace 'Supplier Control Tower'"
    ],
    "out_of_scope": [
      "Forecasting of future orders (handled by Supply Planning team)",
      "Integration with CRM and third-party risk ratings",
      "Real-time streaming from SCADA or IoT sensors",
      "Detailed financial margin analysis (handled by Finance Controlling)"
    ]
  },
  "entities": [
    {
      "name": "Supplier Master",
      "catalog": "Collibra/Unity Catalog",
      "table": "dimv_supplier",
      "description": "Master supplier dimension with identifiers and attributes"
    },
    {
      "name": "Purchase Order Header",
      "table": "factv_purchase_order",
      "description": "PO level facts (header-level fields)"
    },
    {
      "name": "Purchase Order Item",
      "table": "factv_purchase_order_item",
      "description": "PO line item facts (quantities, dates, statuses)"
    },
    {
      "name": "Quality Incident",
      "table": "factv_quality_notification",
      "description": "Quality incidents / non-conformance reports"
    },
    {
      "name": "Delivery Calendar Dimension",
      "table": "dimv_delivery_date",
      "description": "Calendar/date dimension for lead time calculations"
    }
  ],
  "metrics": [
    {
      "name": "Supplier Reliability Index",
      "unit": "score (composite)",
      "definition": "Weighted mix of on-time % (positive), dispute rate (negative), defect rate (negative).",
      "notes": "Weighting to be defined with procurement; used for ranking and alerts"
    },
    {
      "name": "Average Goods Receipt Lead Time",
      "unit": "days",
      "definition": "Average days between GR/receipt and PO creation or expected delivery date over selected window"
    },
    {
      "name": "% PO blocked for payment",
      "unit": "percent",
      "definition": "Share of POs with 'blocked for payment' status"
    },
    {
      "name": "NCR Count (last quarter)",
      "unit": "count",
      "definition": "Number of non-conformance reports in the most recent quarter"
    },
    {
      "name": "Spend concentration (top 10 suppliers)",
      "unit": "percent of spend",
      "definition": "Cumulative spend share of top 10 suppliers"
    }
  ],
  "data_sources": [
    {
      "type": "Databricks Unity Catalog",
      "details": [
        "dm_ba_purchase schema",
        "dm_bs_purchase schema"
      ]
    },
    {
      "type": "Collibra",
      "details": "Data Catalog export (lineage and owners)"
    },
    {
      "type": "SAP ECC",
      "tables": [
        "EKKO",
        "EKPO",
        "LFA1",
        "MKPF"
      ],
      "access": "read-only"
    },
    {
      "type": "SharePoint",
      "details": "Folder 'Supplier Audits' for manual NCR entries"
    }
  ],
  "constraints": {
    "gdpr": {
      "requirement": "No personal data of supplier contacts in dataset; supplier contact IDs must be pseudonymized",
      "pseudonymization": true
    },
    "data_retention": {
      "production_history_months": 36,
      "note": "Only 3 years of history in production model"
    },
    "performance_sla": {
      "dashboard_refresh_limit_minutes": 5,
      "note": "Each dashboard refresh must be < 5 min or fails SLA"
    },
    "security": {
      "row_level_security": [
        "EMEA",
        "AMER",
        "APAC"
      ],
      "classification_link": "Confidential vs Internal"
    },
    "sap_access": {
      "write_back_allowed": false,
      "access": "read-only to SAP; no writes back"
    }
  },
  "deliverables": [
    {
      "name": "Curated business_request.json",
      "for_tool": "Tool 3/7",
      "description": "Curated request file"
    },
    {
      "name": "Curated structure.json",
      "for_tool": "Tool 3/7",
      "description": "Curated data structure file"
    },
    {
      "name": "Quality report",
      "description": "Report summarizing articulationScore and missingFromSource flags"
    },
    {
      "name": "Power BI semantic model",
      "description": "Model published to workspace with DAX measure definitions"
    },
    {
      "name": "Governance runbook",
      "description": "Validation steps and contact list (owner, steward)"
    },
    {
      "name": "Mitigation checklist (P0/P1/P2)",
      "description": "Checklist for Supplier Risk committee mitigations"
    }
  ],
  "acceptance_criteria": [
    "Consolidated reporting available in Power BI 'Supplier Control Tower' workspace",
    "Alerts surface suppliers with increasing lead time, frequent disputes, or blocked payments",
    "Dashboards refresh in under 5 minutes",
    "Row-level security enforced by region",
    "No personal supplier contact data present (pseudonymized)",
    "Only last 36 months of history accessible in production model"
  ],
  "notes": "Forecasting, CRM/third-party risk integrations, real-time sensor streaming, and detailed finance margin analysis are excluded and should not be part of this deliverable."
}
```
