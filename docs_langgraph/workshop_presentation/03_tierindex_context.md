# TierIndex ‚Äì Co to je a proƒç ho pot≈ôebujeme

**Audience:** Deep Architects Workshop
**Focus:** Praktick√© p≈ô√≠klady pou≈æit√≠ TierIndex dat
**Level:** Conceptual s technick√Ωmi detaily

---

## üéØ Co je TierIndex?

> **TierIndex je unifikovan√° datov√° platforma pro procurement intelligence ‚Äì strukturovan√° datab√°ze 15 000+ dodavatel≈Ø, jejich vztah≈Ø, finanƒçn√≠ho zdrav√≠ a obchodn√≠ch dat.**

### Jednodu≈°e ≈ôeƒçeno:
Kdy≈æ procurement manager nebo risk manager pot≈ôebuje odpovƒõƒè typu:
- *"Kte≈ô√≠ dodavatel√© jsou z√°visl√≠ na ƒç√≠nsk√Ωch sub-dodavatel√≠ch?"*
- *"Kter√© projekty jsou ohro≈æen√©, kdy≈æ dodavatel XYZ zkrachuje?"*
- *"M√°me alternativy pro kritick√© komponenty z Ukrajiny?"*

...tak **TierIndex poskytuje data pro tyto odpovƒõdi**.

---

## üí° Proƒç TierIndex pot≈ôebujeme: 4 praktick√© p≈ô√≠klady

> **Pozn√°mka:** N√≠≈æe uveden√© situace jsou anonymizovan√© modelov√© sc√©n√°≈ôe ‚Äì ƒç√≠sla i n√°zvy slou≈æ√≠ jen jako ilustrace.

### **P≈ô√≠klad 1: "Rychl√© posouzen√≠ nov√©ho dodavatele (onboarding screening)"**

**Modelov√° situace:**
Pot≈ôebujeme urychlenƒõ za≈ôadit nov√©ho Tier-1 nebo Tier-2 dodavatele do v√Ωbƒõrov√©ho ≈ô√≠zen√≠.

**Co n√°s zaj√≠m√°:**
- M√° dodavatel p≈ô√≠m√© nebo nep≈ô√≠m√© sankƒçn√≠ riziko?
- Je vlastnƒõn firmou z rizikov√© jurisdikce?
- M√° dostateƒçn√© finanƒçn√≠ zdrav√≠ (credit score, revenue, failure risk)?
- Z√°kladn√≠ info: poƒçet zamƒõstnanc≈Ø, zku≈°enosti s podobn√Ωmi d√≠ly?

**Bez TierIndex:**
- Manu√°ln√≠ sbƒõr dat z DnB, Sayari, SAP
- Nejasn√° vlastnick√° struktura (UBO nen√≠ viditeln√Ω)
- Nƒõkolik dn√≠ pr√°ce
- Riziko p≈ôehl√©dnut√≠ skryt√©ho sankƒçn√≠ho propojen√≠

**Co m√° TierIndex zajistit:**
- Jednotn√Ω dotaz spojuj√≠c√≠ Sayari (UBO, watchlist), DnB (financials), SAP (historie), TierIndex (Tier relationships)
- V√Ωstup: Supplier profile s finanƒçn√≠m sk√≥re, sankƒçn√≠m rizikem, vlastnickou strukturou, zku≈°enostmi (podobn√© HS k√≥dy)
- V√Ωsledek v ≈ô√°du minut, aby n√°kupƒç√≠ mohl rychle rozhodnout

#### **Co n√°m TierIndex poskytl:**
- ‚úÖ **Sayari Sanctions** = Watchlist matching, UBO complexity, vlastnick√° struktura
- ‚úÖ **DnB Financial** = Credit rating, failure score, revenue, poƒçet zamƒõstnanc≈Ø
- ‚úÖ **HS Codes + Trade data** = Zku≈°enosti s podobn√Ωmi commodities
- ‚úÖ **Tier level** = Je to nov√Ω Tier-1 nebo skryt√Ω Tier-3 subdodavatel?

---

### **P≈ô√≠klad 2: "Prevence v√Ωpadku ‚Äì detekce zhor≈°en√≠ u st√°vaj√≠c√≠ho dodavatele"**

**Modelov√° situace:**
Dodavatel (Tier-1) zaƒçal zpo≈æƒèovat fakturace nebo po≈æ√°dal o zmƒõnu platebn√≠ch podm√≠nek ‚Üí ≈æ√°d√°me okam≈æitou kontrolu finanƒçn√≠ho zdrav√≠.

**Co n√°s zaj√≠m√°:**
- M√° finanƒçn√≠ probl√©my? (credit score trend, failure risk)
- Je v syst√©mu varov√°n√≠ o zhor≈°en√≠ solventnosti nebo pozdn√≠ch plat√°ch?
- Je napojen na subdodavatele v rizikov√© zemi (geopolitick√© riziko)?
- Pot≈ôebujeme vƒças zv√°≈æit alternativy

**Bez TierIndex:**
- Proj√≠t SAP zak√°zky ruƒçnƒõ
- Hledat BOM struktury v PLM syst√©mu
- Kontaktovat project managery
- 1-2 dny anal√Ωzy
- Mezit√≠m produkce m≈Ø≈æe st√°t

**C√≠lov√° funkƒçnost:**
- Jednotn√Ω dotaz kombinuj√≠c√≠ DnB (financial trends), SAP (payment behavior), Sayari (UBO changes)
- V√Ωstup: Financial deterioration alert s d≈Økazy (credit score ‚Üì, late payments ‚Üë, revenue trend ‚Üì)
- Automatick√© doporuƒçen√≠: ovƒõ≈ôit finance, nav√Ω≈°it z√°soby, p≈ôipravit RFQ pro alternativy
- Odezva v minut√°ch, aby navazuj√≠c√≠ workflow (aktivace z√°lo≈æn√≠ch zdroj≈Ø) mohlo bƒõ≈æet automatizovanƒõ

#### **Co n√°m TierIndex poskytl:**
- ‚úÖ **DnB financial trends** - Credit score timeline, failure risk, revenue trend
- ‚úÖ **SAP payment behavior** - Late invoices, credit notes, platebn√≠ discipl√≠na
- ‚úÖ **Sayari UBO** - Zmƒõny vlastnick√© struktury (nov√Ω fond, ƒç√≠nsk√° entita?)
- ‚úÖ **Tier-2/3 dependencies** - Subdodavatelsk√Ω ≈ôetƒõzec (geografick√© riziko)

---

### **P≈ô√≠klad 3: "M√°me SPOF v dodavatelsk√©m ≈ôetƒõzci?"**

**Business situace:**
Risk manager chce proaktivnƒõ identifikovat Single Points of Failure ‚Äì subdodavatele, na kter√Ωch z√°vis√≠ v√≠ce projekt≈Ø a nemaj√≠ alternativy.

**Bez TierIndex:**
- Teoreticky nelze zjistit (sub-dodavatel√© jsou neviditeln√≠)
- Tier-1 dodavatel√© nesd√≠l√≠ sv√© sub-dodavatele
- Discover SPOF a≈æ kdy≈æ nastane krize

**Co m√° TierIndex zvl√°dnout:**

**UML Activity Diagram:**
```mermaid
graph TD
    A[Start: Analyze Tier-2] --> B{For Each Tier-2 Supplier}
    B --> C[Count Connected Tier-1 Suppliers]
    B --> D[Count Affected Projects]
    B --> E[Calculate Total Exposure]
    C --> F{Evaluate Risk}
    D --> F
    E --> F
    F -->|tier1 ‚â• HIGH_THRESHOLD AND projects ‚â• HIGH_PROJECT_THRESHOLD| G["‚ö†Ô∏è CRITICAL SPOF"]
    F -->|tier1 ‚â• MEDIUM_THRESHOLD| H["‚ö†Ô∏è HIGH SPOF"]
    F -->|tier1 < MEDIUM_THRESHOLD| I["‚úì MONITORED"]
    G --> J[Sort by Exposure]
    H --> J
    I --> J
    J --> K[Return Ranked List]
```

**Pseudo-k√≥d:**
```pseudo
FUNCTION detect_spof_in_tier2()
  FOR EACH tier2_supplier IN TierIndex.Tier2
    tier1_count = COUNT(connected Tier-1 suppliers)
    project_count = COUNT(affected projects via Tier-1)
    total_exposure = SUM(annual volumes from Tier-1)

    IF tier1_count >= HIGH_THRESHOLD AND project_count >= HIGH_PROJECT_THRESHOLD THEN
      risk_level = "CRITICAL_SPOF"
    ELSE IF tier1_count >= MEDIUM_THRESHOLD THEN
      risk_level = "HIGH_SPOF"
    ELSE
      risk_level = "MONITORED"
    END IF

    IF tier1_count >= MEDIUM_THRESHOLD THEN
      COLLECT: supplier_id, name, risk_level, tier1_count, project_count, exposure
    END IF
  END FOR
  SORT BY total_exposure DESC
  RETURN results
END FUNCTION
```

**P≈ô√≠klad v√Ωstupu:**
| Supplier (Tier-2)     | Tier-1 Dependent | Projects      | Exposure                | SPOF Level    |
| --------------------- | ---------------- | ------------- | ----------------------- | ------------- |
| Tier-2 Supplier Alpha | Vy≈°≈°√≠ poƒçet      | Vy≈°≈°√≠ poƒçet   | V√Ωznamn√° finanƒçn√≠ z√°tƒõ≈æ | CRITICAL_SPOF |
| Tier-2 Supplier Beta  | St≈ôedn√≠ poƒçet    | St≈ôedn√≠ poƒçet | St≈ôedn√≠ finanƒçn√≠ z√°tƒõ≈æ  | HIGH_SPOF     |

**ƒåas:** Kr√°tk√Ω horizont
**Akce:** Urgentnƒõ diverzifikovat sourcing pro CRITICAL_SPOF dodavatele

#### **Co n√°m TierIndex poskytl:**
- ‚úÖ **Tier-1 ‚Üí Tier-2 relationships** = Kdo dod√°v√° komu (visibility do sub-dodavatel≈Ø)
- ‚úÖ **Network centrality** = Graph analytics pro SPOF detection
- ‚úÖ **Exposure quantification** = Business impact v EUR

---

### **P≈ô√≠klad 4: "Kter√Ω WGR commodity group je nejv√≠c rizikov√Ω?"**

**Business situace:**
Strategick√Ω procurement pl√°nuje diverzifikaci. Chce vƒõdƒõt, kter√© commodity skupiny maj√≠ nejvy≈°≈°√≠ koncentraci v rizikov√Ωch regionech.

**Bez TierIndex:**
- Commodity groups (WGR) jsou v SAP
- Dodavatel√© a jejich lokace jsou v jin√©m syst√©mu
- Ruƒçn√≠ spojov√°n√≠ dat z multiple syst√©m≈Ø
- T√Ωdny pr√°ce

**C√≠lov√© chov√°n√≠ TierIndex:**

**Pseudo-k√≥d:**
```pseudo
FUNCTION analyze_geographic_clustering_risk()
  // Definice rizikov√Ωch region≈Ø
  HIGH_RISK_COUNTRIES = ["RU", "BY", "UA", "CN"]
  MEDIUM_RISK_COUNTRIES = ["TR", "IN", "TH"]

  FOR EACH commodity_group IN TierIndex.WGR_CommodityGroups
    FOR EACH supplier IN commodity_group.suppliers
      country = supplier.country
      spend = supplier.annual_volume

      // Klasifikace rizika
      IF country IN HIGH_RISK_COUNTRIES THEN
        risk_level = "HIGH_RISK"
      ELSE IF country IN MEDIUM_RISK_COUNTRIES THEN
        risk_level = "MEDIUM_RISK"
      ELSE
        risk_level = "LOW_RISK"
      END IF

      // Agregace po commodity group + country
      AGGREGATE: commodity_group, country, supplier_count, total_spend, risk_level
    END FOR

    // V√Ωpoƒçet koncentrace
    FOR EACH country IN commodity_group.countries
      spend_share_pct = (country.spend / commodity_group.total_spend) * 100
      COLLECT: commodity_group, country, supplier_count, spend, risk_level, spend_share_pct
    END FOR
  END FOR

  FILTER BY risk_level IN ["HIGH_RISK", "MEDIUM_RISK"]
  SORT BY commodity_group, total_spend DESC
  RETURN results
END FUNCTION
```

**P≈ô√≠klad v√Ωstupu:**
| Commodity Group (WGR) | Country  | Suppliers     | Annual Spend    | Risk        | Share %             |
| --------------------- | -------- | ------------- | --------------- | ----------- | ------------------- |
| Elektrika             | Region A | Vy≈°≈°√≠ poƒçet   | V√Ωznamn√° ƒç√°stka | HIGH_RISK   | Vysok√° koncentrace  |
| Plastov√© d√≠ly         | Region B | St≈ôedn√≠ poƒçet | St≈ôedn√≠ ƒç√°stka  | MEDIUM_RISK | St≈ôedn√≠ koncentrace |
| Kovov√© komponenty     | Region C | Ni≈æ≈°√≠ poƒçet   | St≈ôedn√≠ ƒç√°stka  | MEDIUM_RISK | Ni≈æ≈°√≠ koncentrace   |

**ƒåas:** Kr√°tk√Ω horizont
**Akce:** Prioritizovat diverzifikaci "Elektrika" commodity (vysok√° geografick√° koncentrace)

---

### **P≈ô√≠klad 5: "Proaktivn√≠ identifikace kumulace rizik nap≈ô√≠ƒç dodavateli" (Sc√©n√°≈ô 10)**

**Business situace:**
M√°me nƒõkolik Tier-1 dodavatel≈Ø pro podobn√© komodity (nap≈ô. plastov√© komponenty). Chceme vƒõdƒõt, zda se v√≠ce nez√°visl√Ωch Tier-1 dodavatel≈Ø nespol√©h√° na stejn√©ho kritick√©ho Tier-2/3 subdodavatele.

**Co n√°s zaj√≠m√°:**
- Sd√≠l√≠ v√≠ce Tier-1 dodavatel≈Ø stejn√©ho Tier-2 nebo Tier-3 subdodavatele?
- Jsou tyto subdodavatel√© ve stejn√©m geograficky rizikov√©m regionu?
- Jak√© by byly dopady, kdyby tento spoleƒçn√Ω Tier-2/3 subdodavatel n√°hle vypadl? Ovlivnilo by to v√≠ce projekt≈Ø souƒçasnƒõ?

**Bez TierIndex:**
- Tier-1 dodavatel√© nesd√≠l√≠ sv√© sub-dodavatele
- Nelze zjistit skryt√© duplicitn√≠ z√°vislosti
- Discovery a≈æ p≈ôi krizi (nap≈ô. spoleƒçn√Ω Tier-3 zkrachuje ‚Üí zjist√≠me, ≈æe zas√°hl 5 Tier-1 souƒçasnƒõ)

**Co m√° TierIndex zvl√°dnout:**

**UML Sequence Diagram:**
```mermaid
sequenceDiagram
    participant RM as Risk Manager
    participant MCOP as MCOP Orchestrator
    participant TI as TierIndex
    participant Graph as Graph Analytics

    RM->>MCOP: Query: Najdi duplicitn√≠ Tier-2/3 z√°vislosti
    MCOP->>TI: Get all Tier-1 suppliers for commodity_group
    TI-->>MCOP: List of Tier-1 suppliers
    MCOP->>Graph: Traverse Tier-1 ‚Üí Tier-2 ‚Üí Tier-3 relationships
    Graph->>Graph: Count: How many Tier-1 depend on each Tier-2/3?
    Graph->>Graph: Aggregate: Projects + volumes at risk
    Graph-->>MCOP: Ranked list (Tier-2/3 by dependency count)
    MCOP->>TI: Enrich with geographic + financial risk
    TI-->>MCOP: Risk-scored duplicitn√≠ dependencies
    MCOP-->>RM: Report: Hidden SPOF across Tier-1 portfolio
```

**P≈ô√≠klad v√Ωstupu:**
| Tier-2/3 Supplier     | Dependent Tier-1 Count | Projects Affected | Geographic Risk | Financial Risk | SPOF Severity |
| --------------------- | ---------------------- | ----------------- | --------------- | -------------- | ------------- |
| Tier-2 Plastics Alpha | 4 Tier-1               | 9 projects        | HIGH (Region A) | MEDIUM         | CRITICAL      |
| Tier-3 Resin Beta     | 3 Tier-1               | 6 projects        | MEDIUM          | HIGH           | HIGH          |
| Tier-2 Tooling Gamma  | 2 Tier-1               | 3 projects        | LOW             | MEDIUM         | MEDIUM        |

**Kl√≠ƒçov√Ω insight:**
> Plastov√Ω subdodavatel "Tier-2 Plastics Alpha" je skryt√Ω SPOF - pokud vypadne, zas√°hne 4 nez√°visl√© Tier-1 dodavatele souƒçasnƒõ. Nutn√° urgentn√≠ diverzifikace.

**ƒåas:** Minuty (graph traversal)
**Akce:** Dual-sourcing pro kritick√© plastov√© komponenty, audit z√°vislost√≠

---

### **P≈ô√≠klad 6: "What-if modelov√°n√≠ logistick√Ωch disrupc√≠" (Sc√©n√°≈ô 13)**

**Business situace:**
Chceme se p≈ôipravit na potenci√°ln√≠ budouc√≠ krize - co by se stalo, kdyby do≈°lo k uzav≈ôen√≠ kl√≠ƒçov√©ho logistick√©ho uzlu (nap≈ô. p≈ô√≠stav, hranice, dopravn√≠ koridor)?

**Co n√°s zaj√≠m√°:**
- Pokud by do≈°lo k uzav≈ôen√≠ kritick√©ho logistick√©ho uzlu, dok√°≈æe syst√©m odhadnout, kte≈ô√≠ Tier-1 dodavatel√© a kter√© d√≠ly by byly nejrychleji zasa≈æeny?
- Jak by se zmƒõnil rizikov√Ω profil portfolia dodavatel≈Ø, pokud by urƒçit√° zemƒõ zavedla rozs√°hl√° obchodn√≠ omezen√≠?

**Bez TierIndex:**
- Logistick√© trasy jsou implicitn√≠ (country of origin + import port)
- Nelze rychle simulovat what-if sc√©n√°≈ôe
- Ruƒçn√≠ Excel modelov√°n√≠ trv√° dny

**Co m√° TierIndex zvl√°dnout:**

**Pseudo-k√≥d:**
```pseudo
FUNCTION simulate_logistics_disruption(disrupted_node_type, disrupted_location)
  // disrupted_node_type: "port", "border", "region"
  // disrupted_location: generic identifier (not specific Hamburg)

  affected_suppliers = []

  FOR EACH tier1 IN TierIndex.Tier1Suppliers
    // Check if Tier-1 depends on disrupted logistics node
    IF tier1.primary_logistics_dependency == disrupted_location THEN
      affected_suppliers.ADD(tier1)
    END IF

    // Check Tier-2/3 dependencies
    FOR EACH tier2 IN tier1.tier2_suppliers
      IF tier2.logistics_dependency == disrupted_location THEN
        affected_suppliers.ADD(tier1)  // Tier-1 indirectly affected
      END IF
    END FOR
  END FOR

  // Calculate impact
  FOR EACH supplier IN affected_suppliers
    projects = GET_PROJECTS(supplier)
    parts = GET_PARTS(supplier)
    volume_at_risk = SUM(supplier.annual_volumes)

    AGGREGATE: supplier, projects, parts, volume_at_risk, alternative_routes
  END FOR

  SORT BY volume_at_risk DESC
  RETURN what_if_scenario_report
END FUNCTION
```

**P≈ô√≠klad v√Ωstupu (what-if sc√©n√°≈ô):**
| Scenario                        | Affected Tier-1 | Projects | Parts at Risk       | Alternative Routes Available? |
| ------------------------------- | --------------- | -------- | ------------------- | ----------------------------- |
| Critical logistics node closure | 6 Tier-1        | 11       | V√Ωznamn√Ω objem d√≠l≈Ø | 3 Tier-1 ANO, 3 Tier-1 NE     |
| Trade embargo (Region A)        | 8 Tier-1        | 14       | Vysok√Ω objem d√≠l≈Ø   | 2 Tier-1 ANO, 6 Tier-1 NE     |

**Kl√≠ƒçov√Ω insight:**
> V p≈ô√≠padƒõ uzav≈ôen√≠ kritick√©ho logistick√©ho uzlu by bylo zasa≈æeno 6 Tier-1 dodavatel≈Ø, ale pouze 3 maj√≠ p≈ôipraven√© alternativn√≠ trasy. Pot≈ôebujeme pre-planning pro zb√Ωvaj√≠c√≠ 3 Tier-1.

**ƒåas:** Minuty (parametrick√Ω dotaz)
**Akce:** P≈ôipravit contingency pl√°ny, identifikovat alternativn√≠ logistick√© koridory

#### **Co n√°m TierIndex poskytl:**
- ‚úÖ **WGR (Warengruppe)** = ≈†koda Auto commodity taxonomy
- ‚úÖ **Country risk scoring** = Geopolitick√° rizika
- ‚úÖ **Spend concentration** = Finanƒçn√≠ exposure analytics

---

## üß© Co je uvnit≈ô TierIndex: 4 datov√© komponenty

### **1. HS Codes (Harmonized System)**
**Co to je:** 6-m√≠stn√© mezin√°rodn√≠ k√≥dy pro klasifikaci obchodovan√©ho zbo≈æ√≠
**Proƒç d≈Øle≈æit√©:** Celn√≠ √∫≈ôady, trade data, regulace

**Kl√≠ƒçov√° vlastnost - zmƒõna nap≈ô√≠ƒç tiery:**
> **Ka≈æd√Ω tier level m√° odli≈°n√Ω HS k√≥d, proto≈æe produkt proch√°z√≠ transformac√≠ ve v√Ωrobn√≠m ≈ôetƒõzci.**
> - Tier-3: `8542.31` (Integrated circuits - ƒçipy)
> - Tier-2: `8512.20` (Elektronick√© moduly - sestaven√Ω kontroler)
> - Tier-1: `8708.29` (Kompletn√≠ brzdov√© komponenty - fin√°ln√≠ assembly)

**P≈ô√≠klad:**
- `8708.29` = Brzdov√© komponenty (Tier-1 assembly)
- `8542.31` = Integrated circuits (Tier-3 ƒçipy)
- `8544.42` = Ignition wiring (Tier-2 kabel√°≈æ)

**Kde to pou≈æ√≠v√°me:**
- Sayari Trade API vrac√≠ HS k√≥dy pro ka≈æd√Ω trade relationship
- Mapujeme dodavatele na HS k√≥dy ‚Üí vid√≠me "co vyr√°bƒõj√≠" na ka≈æd√©m tier levelu
- Compliance checks (EU import restrictions)

---

### **2. WGR (Warengruppe) ‚Äì Commodity Taxonomy**

**Co to je:** Intern√≠ ≈†koda Auto kategorizace materi√°l≈Ø a d√≠l≈Ø
**Proƒç d≈Øle≈æit√©:** Business procesy, sourcing strategie, cost management

**P≈ô√≠klad:**
- `WGR-3400` = Elektrika a elektronika
- `WGR-5200` = Plastov√© d√≠ly interi√©r
- `WGR-6100` = Kovov√© komponenty chassis

**Kde to pou≈æ√≠v√°me:**
- Propojen√≠ mezi SAP (WGR) a external data (HS codes)
- Commodity-specific risk analysis
- Strategic sourcing decisions

**Mapping HS ‚Üî WGR:**
```
HS 8542.31 (Integrated Circuits) ‚Üí WGR-3400 (Elektrika)
HS 8708.29 (Brakes) ‚Üí WGR-6100 (Kovov√© komponenty)
```

---

### **3. BOM (Bill of Materials) ‚Äì Part Hierarchies**

| **Aspekt**        | **Popis**                                                                                                |
| ----------------- | -------------------------------------------------------------------------------------------------------- |
| **Co to je**      | Kusovn√≠k - hierarchie parent-child vztah≈Ø mezi d√≠ly ve vozidle                                           |
| **Proƒç d≈Øle≈æit√©** | Impact propagation ("Supplier A zkrachoval ‚Üí Battery Pack + Infotainment blocked"), project dependencies |
| **Kde pou≈æ√≠v√°me** | Crisis impact analysis, alternative matching podle HS k√≥d≈Ø                                               |

---

### **4. Tier1/2/3 Mappings ‚Äì Supplier Relationships**

**Co to je:** Graf vztah≈Ø "kdo dod√°v√° komu"
**Proƒç d≈Øle≈æit√©:** Visibility do sub-dodavatel≈Ø, cascade analysis

**P≈ô√≠klad grafu:**
```
≈†koda Auto (z√°kazn√≠k)
‚îú‚îÄ‚îÄ Tier-1 Supplier (Tier-1)
‚îÇ   ‚îú‚îÄ‚îÄ Supplier X (Tier-2) (Tier-2, Taiwan)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ SiliconWafer Corp (Tier-3, South Korea)
‚îÇ   ‚îî‚îÄ‚îÄ Supplier Y (Tier-2) (Tier-2, Italy)
‚îú‚îÄ‚îÄ BrakeSystem Solutions (Tier-1)
‚îÇ   ‚îî‚îÄ‚îÄ Supplier D (Tier-2) (Tier-2, Czech Republic)
```

**Kde to pou≈æ√≠v√°me:**
- N-tier traversal: "Kter√Ω Tier-3 dodavatel m√° sankce?"
- SPOF detection: "Supplier X dod√°v√° 5 Tier-1 ‚Üí CRITICAL SPOF"
- Geographic clustering: "3 Tier-2 dodavatel√© v Northern Italy ‚Üí shared risk"

---

## üîÑ Jak z√≠sk√°v√°me TierIndex data: 3 zdroje

### **Zdroj 1: Sayari (Global Supply Chain Data)**

**Co poskytuje:**
- Ownership vztahy (UBO - Ultimate Beneficial Owner)
- Trade relationships (kdo obchoduje s k√Ωm)
- Sanctions & watchlist screening
- HS codes pro ka≈æd√Ω trade flow

**API endpoints:**
- `/v1/resolution` - Entity matching
- `/v1/supply_chain/upstream` - Tier-2/3 traversal
- `/v1/trade/search/suppliers` - Find suppliers by HS code

**Update frequency:** Denn√≠ polling (Notifications API) + mƒõs√≠ƒçn√≠ baseline (Bulk Data)

**P≈ô√≠klad pou≈æit√≠:**
> "Chci vƒõdƒõt, kdo jsou sub-dodavatel√© Supplier A"
> ‚Üí Sayari API vr√°t√≠ graf upstream suppliers s HS k√≥dy

---

### **Zdroj 2: Dun & Bradstreet (Financial Health)**

**Co poskytuje:**
- Credit ratings a failure scores
- Financial statements (revenue, profit, debt)
- Payment behavior (PAYDEX score)
- Corporate hierarchy (parent/subsidiary)

**API endpoints:**
- `/v1/data/duns/{duns}` - Company profile
- `companyinfo_L2_v1` - Financial metrics
- `financialstrengthinsight_L4_v1` - Risk indicators

**Update frequency:** Denn√≠ API calls pro monitorovan√© dodavatele

**P≈ô√≠klad pou≈æit√≠:**
> "Je Supplier A finanƒçnƒõ zdrav√Ω?"
> ‚Üí DnB vr√°t√≠: Credit rating ni≈æ≈°√≠, Elevated failure score, Revenue trend klesaj√≠c√≠ ‚Üí **Rizikov√Ω dodavatel**

---

### **Zdroj 3: SAP (Internal Business Data)**

**Co poskytuje:**
- DUNS numbers na≈°ich Tier-1 dodavatel≈Ø (master data)
- Kontrakty, objedn√°vky, faktury
- Delivery performance, quality scores
- Payment behavior (plat√≠ vƒças?)

**DAP Gold tables:**
- `dm_ba_purchase` - Purchase orders
- `dm_bs_purchase` - Invoices
- `dm_experience` - Historical performance

**Update frequency:** Denn√≠ ETL z SAP do DAP

**P≈ô√≠klad pou≈æit√≠:**
> "Jak se Supplier A chov√° v platb√°ch?"
> ‚Üí SAP: V√Ωznamn√Ω podstan faktur po splatnosti (p≈ôedchoz√≠ baseline n√≠zk√Ω) ‚Üí **Deteriorating behavior**

---

## üè≠Ô∏è DAP Architecture: Bronze ‚Üí Silver ‚Üí Gold

### **Bronze Layer: Raw Data**
Surov√° data ze 3 zdroj≈Ø, immutable audit trail

```
staging_wsp.tierindex_bronze
‚îú‚îÄ‚îÄ sayari_raw (JSON responses z API)
‚îú‚îÄ‚îÄ dnb_raw (JSON responses z API)
‚îî‚îÄ‚îÄ sap_raw (CSV exports z DAP Gold)
```

**Update:** Denn√≠ append-only

---

### **Silver Layer: Normalized Tables**
ƒåist√©, normalizovan√© tabulky pro analytics

```
staging_wsp.tierindex_silver
‚îú‚îÄ‚îÄ ti_entity (20k dodavatel≈Ø, DUNS jako PK)
‚îú‚îÄ‚îÄ ti_edge (200k vztah≈Ø, Tier-1 ‚Üí Tier-2/3)
‚îú‚îÄ‚îÄ ti_entity_risk (Risk atributy: sanctions, financial, UBO)
‚îî‚îÄ‚îÄ ti_entity_matches (Mapov√°n√≠ Sayari entity_id ‚Üî SAP DUNS)
```

**Update:** Denn√≠ transformace z Bronze

---

### **Gold Layer: Pre-calculated Metrics**
Hotov√© metriky pro business users

```
staging_wsp.tierindex_gold
‚îú‚îÄ‚îÄ ti_spof_scores (Single Point of Failure rankings)
‚îú‚îÄ‚îÄ ti_geographic_clusters (Risk regions)
‚îú‚îÄ‚îÄ ti_commodity_exposure (WGR concentration analysis)
‚îî‚îÄ‚îÄ ti_manifest (Baseline version tracking)
```

**Update:** T√Ωdnƒõ batch jobs

---

## ü§ñ MCOP: Metadata Orchestrator pro TierIndex

### **Co je MCOP?**
> **Metadata Copilot (MCOP) je helper agent, kter√Ω propojuje TierIndex data s metadata syst√©my (Collibra, DAP Catalog, DAP) a umo≈æ≈àuje jejich enrichment.**

### **MCOP ‚â† TierIndex**
- **TierIndex** = Data platform (samotn√° data o dodavatel√≠ch)
- **MCOP** = Orchestr√°tor (propojuje data, enrichuje metadata, loguje transformace)

### **P≈ô√≠klad MCOP workflow:**

**Situace:** Procurement manager chce anal√Ωzu kritick√Ω evropsk√Ω p≈ô√≠stav port blockage

**MCOP orchestrace:**
1. **Query TierIndex** ‚Üí Kte≈ô√≠ Tier-1 pou≈æ√≠vaj√≠ kritick√Ω evropsk√Ω p≈ô√≠stav jako import port?
2. **Enrich s Collibra** ‚Üí Jak√° je data quality score pro tyto dodavatele?
3. **Query DAP Catalog** ‚Üí Jak√© HS k√≥dy obchoduj√≠ p≈ôes kritick√Ω evropsk√Ω p≈ô√≠stav?
4. **Query DAP (SAP)** ‚Üí Jak√© jsou annual volumes a projekty?
5. **Aggregate & synthesize** ‚Üí Kompletn√≠ risk report
6. **Log to DAP Catalog** ‚Üí Audit trail v≈°ech transformac√≠

**Result:**
```json
{
  "affected_tier1": 3,
  "total_exposure": "V√Ωznamn√° finanƒçn√≠ z√°tƒõ≈æ",
  "projects_at_risk": 10,
  "mcop_metadata": {
    "data_quality_avg": 87,
    "collibra_verified": true,
    "unity_catalog_lineage": "bronze.sayari_raw ‚Üí silver.ti_entity ‚Üí gold.ti_exposure"
  }
}
```

### **MCOP jako z√°klad pro proaktivn√≠ monitoring**

**Budouc√≠ vize:**
MCOP metadata umo≈æn√≠ **ML modely** predikovat supplier risks:

- **Feature Store** = Historick√© snapshoty z TierIndex (enriched MCOPem)
- **ML model** = Predikce deterioration 3 mƒõs√≠ce dop≈ôedu
- **Alert pipeline** = Notifikace procurement team

**Ale to je Phase 2!** Dnes se soust≈ôed√≠me na **TierIndex foundation**.

---

## üéØ Shrnut√≠: Proƒç TierIndex pot≈ôebujeme

| Use Case                                 | Bez TierIndex            | C√≠lov√Ω stav TierIndex |
| ---------------------------------------- | ------------------------ | --------------------- |
| **Compliance check** (HS codes)          | 2-3 t√Ωdny manu√°lnƒõ       | <30 sekund SQL        |
| **Crisis impact** (dodavatel zkrachoval) | Nƒõkolik dn√≠ anal√Ωzy      | Minuty                |
| **SPOF detection** (sub-dodavatel√©)      | Nelze zjistit            | Minuty (graph query)  |
| **Commodity risk** (WGR clustering)      | T√Ωdny multi-syst√©m audit | Minuty (analytics)    |

### **TierIndex = Enabler pro:**
1. ‚úÖ Rychl√© odpovƒõdi na komplexn√≠ dodavatelsk√© ot√°zky
2. ‚úÖ Visibility do Tier-2/3 sub-dodavatel≈Ø
3. ‚úÖ Risk quantification v business terms (EUR, projekty)
4. ‚úÖ Foundation pro budouc√≠ ML/prediktivn√≠ monitoring

---

**Next:** Pod√≠v√°me se na konkr√©tn√≠ business capabilities postaven√© na TierIndex datech
